(()=>{"use strict";const t=function(t){var r=[];return t.map((function(t){return r.push(t)})),{shipCoord:r,isSunk:function(){return r.every((function(t){return"hit"===t}))},isHit:function(t){return r[t]="hit"},coordinates:t}},r=function(r,e,n,o,a){var c=Array.from({length:100},(function(t,r){return r})),i=t(r),u=t(e),l=t(n),s=t(o),d=t(a),f=[i.coordinates,u.coordinates,l.coordinates,s.coordinates,d.coordinates];f.flat().map((function(t){return c[t]="ship"}));return{createShip:f,receiveAttack:function(t){"ship"===c[t]?(c[t]="hit",function(t){var r=f.filter((function(r){return r.includes(t)})).flat().sort().toString(),e=f[0].sort().toString(),n=f[0].sort().toString(),o=f[0].sort().toString(),a=f[0].sort().toString(),c=f[0].sort().toString();r===e?i.isHit(t):r===n?u.isHit(t):r===o?l.isHit(t):r===a?s.isHit(t):r===c&&d.isHit(t)}(t)):c[t]="missed"},allSunk:function(){return c.filter((function(t){return"hit"===t})).length>=17},board:c}},e=function(t){var r=Array.from({length:100},(function(t,r){return r})),e=Array.from({length:100},(function(t,r){return r}));return{playerAttack:function(e){return"attacked"!==r[e]?(r[e]="attacked",t.receiveAttack(e)):"illegal move"},computerAttack:function(){var r=e.filter((function(t){return"attacked"!==t})),n=r[Math.floor(Math.random()*r.length)];return e[n]="attacked",t.receiveAttack(n),n},boardComputer:e,boardPlayer:r}};var n=document.querySelector(".container"),o=document.querySelector("p"),a=document.querySelector(".modal"),c=function(t,r){var e=document.querySelectorAll(".cells2"),n=document.querySelectorAll(".cells1");t.forEach((function(t,r){"missed"===t&&(e[r].style.background="gray"),"hit"===t&&(e[r].style.background="black")})),r.forEach((function(t,r){"missed"===t&&(n[r].style.background="gray"),"hit"===t&&(n[r].style.background="black")}))},i=function(t){a.classList.toggle("show-modal"),n.classList.toggle("is-blurred"),o.textContent=t};function u(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}var l=function(){var t=0,o=r([0,1,2,3],[10,11,12],[20,21,22,23,24],[52,53],[1,2,3,4]),a=r([1,2,3,4,5],[8,9,10,11],[14,15,16],[20,21,22],[24,25]),l=e(a),s=e(o);!function(t,r){var e=document.createElement("grid");e.className="grid1";var o=document.createElement("grid");o.className="grid2",t.board.forEach((function(){var t=document.createElement("div");t.className="cells1",e.append(t),n.append(e)})),r.board.forEach((function(){var t=document.createElement("div");t.className="cells2",o.append(t),n.append(o)}))}(o,a);var d=function(){t=0===t?1:0};!function r(){var e,n,f;a.allSunk()?i("Computer lost. You win!"):o.allSunk()?i("You lost! The enemy has defeated you."):(f=document.querySelectorAll(".cells2"),e=function(t){if(Array.isArray(t))return u(t)}(f)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(f)||function(t,r){if(t){if("string"==typeof t)return u(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?u(t,r):void 0}}(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=function(){s.computerAttack(),c(a.board,o.board),d()},0===t?function(){e.forEach((function(t,e){t.addEventListener("click",(function(){l.playerAttack(e),c(a.board,o.board),d(),r()}))}))}():n())}()};l(),document.querySelector("#restart").addEventListener("click",(function(){n.innerHTML="",a.classList.toggle("show-modal"),n.classList.toggle("is-blurred"),l()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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OEIsT0FBT0wsTUFHbEJsQixFQUFPL0MsTUFBTW1ELFNBQVEsV0FDcEIsSUFBTWtCLEVBQU01QixTQUFTeUIsY0FBYyxPQUNuQ0csRUFBSUYsVUFBWSxTQUNoQkMsRUFBTUUsT0FBT0QsR0FDYjdCLEVBQVU4QixPQUFPRixNQ0xsQkcsQ0FBT3pCLEVBQVFDLEdBR2YsSUFBTXlCLEVBQWEsV0FDbEJaLEVBQWdDLElBQWpCQSxFQUFxQixFQUFJLElBSXpDLFNBQVNhLElBU1QsSUFDT0MsRUFZQUMsRSxFQXJCRjVCLEVBQU9sQixVQUNWeUIsRUFBVSwyQkFDQVIsRUFBT2pCLFVBQ2pCeUIsRUFBVSwwQyxFQU1XYixTQUFTUSxpQkFBaUIsV0FBMUN5QixFLGluQkFZQUMsRUFBZSxXQUNwQlgsRUFBUTlCLGlCQUNSVyxFQUFVRSxFQUFPL0MsTUFBTzhDLEVBQU85QyxPQUMvQndFLEtBSWdCLElBQWpCWixFQWxCbUIsV0FDbEJjLEVBQVN2QixTQUFRLFNBQUMzRCxFQUFTYSxHQUMxQmIsRUFBUW9GLGlCQUFpQixTQUFTLFdBQ2pDZCxFQUFRN0IsYUFBYTVCLEdBQ3JCd0MsRUFBVUUsRUFBTy9DLE1BQU84QyxFQUFPOUMsT0FDL0J3RSxJQUNBQyxVQVlrQkksR0FBZUYsS0FFckNGLElBR0RkLElBR0FsQixTQUFTQyxjQUFjLFlBQVlrQyxpQkFBaUIsU0FBUyxXRFo1RHBDLEVBQVVzQyxVQUFZLEdBQ3JCbEMsRUFBTVksVUFBVUMsT0FBTyxjQUN4QmpCLEVBQVVnQixVQUFVQyxPQUFPLGNDWTNCRSxRIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9zaGlwRmFjdG9yeS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2dhbWVib2FyZC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL3BsYXllci5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2RvbUNvbnRyb2wuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG5cbi8vIEZhY3RvcnkgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIHNoaXAgb2JqZWN0c1xuZnVuY3Rpb24gU2hpcChjb29yZGluYXRlcykge1xuXHRjb25zdCBzaGlwQ29vcmQgPSBbXTtcbiAgXG5cdGNvb3JkaW5hdGVzLm1hcCgoY29vcmRpbmF0ZSkgPT4gc2hpcENvb3JkLnB1c2goY29vcmRpbmF0ZSkpO1xuXG5cdC8vIEZ1bmN0aW9ucyB0aGF0IHJlbW92ZXMgZGVzdHJveWVkIHNoaXBcblx0Y29uc3QgaXNTdW5rID0gKCkgPT4gc2hpcENvb3JkLmV2ZXJ5KChlbGVtZW50KSA9PiBlbGVtZW50ID09PSAnaGl0Jyk7XG5cblx0Ly8gRnVuY3Rpb24gdGhhdCBkYW1hZ2VzIHNoaXAgcG9zaXRpb25zXG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXR1cm4tYXNzaWduXG5cdGNvbnN0IGlzSGl0ID0gKGhpdCkgPT4gc2hpcENvb3JkW2hpdF0gPSAnaGl0JztcblxuXHRyZXR1cm4geyBzaGlwQ29vcmQsIGlzU3VuaywgaXNIaXQsIGNvb3JkaW5hdGVzIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNoaXA7XG4iLCJpbXBvcnQgU2hpcCBmcm9tICcuL3NoaXBGYWN0b3J5Jztcbi8vIEZ1bmN0aW9uIHRoYXQgcGxhY2VzIHNoaXBzIG9uIGJvYXJkLCBhbmQgcmVjZWl2ZXMgYXR0YWNrcywgYW5kIGtlZXBpbmcgdHJhY2sgb2YgbWlzc2VkIHNob3RzXG5mdW5jdGlvbiBHYW1lYm9hcmQoY29yZHMxLCBjb3JkczIsIGNvcmRzMywgY29yZHM0LCBjb3JkczUpIHtcblx0Y29uc3QgYm9hcmQgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiAxMDAgfSwgKF8sIGkpID0+IGkpO1xuXHRjb25zdCBjYXJyaWVyID0gU2hpcChjb3JkczEpO1xuXHRjb25zdCBiYXR0bGVzaGlwID0gU2hpcChjb3JkczIpO1xuXHRjb25zdCBjcnVpc2VyID0gU2hpcChjb3JkczMpO1xuXHRjb25zdCBzdWJtYXJpbmUgPSBTaGlwKGNvcmRzNCk7XG5cdGNvbnN0IGRlc3Ryb3llciA9IFNoaXAoY29yZHM1KTtcblxuXHRjb25zdCBjcmVhdGVTaGlwID0gW1xuXHRcdGNhcnJpZXIuY29vcmRpbmF0ZXMsXG5cdFx0YmF0dGxlc2hpcC5jb29yZGluYXRlcyxcblx0XHRjcnVpc2VyLmNvb3JkaW5hdGVzLFxuXHRcdHN1Ym1hcmluZS5jb29yZGluYXRlcyxcblx0XHRkZXN0cm95ZXIuY29vcmRpbmF0ZXNcblx0XTtcblxuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmV0dXJuLWFzc2lnblxuXHRjcmVhdGVTaGlwLmZsYXQoKS5tYXAoKHBvc2l0aW9ucykgPT4gKGJvYXJkW3Bvc2l0aW9uc10gPSAnc2hpcCcpKTtcblxuXHQvLyBGdW5jdGlvbiB0aGF0IGRldGVybWluZXMgd2hldGhlciBhdHRhY2sgaGl0IGEgc2hpcFxuXHQvLyBFeGNsdWRlZCAnbWlzc2VkJ1xuXHRjb25zdCByZWNlaXZlQXR0YWNrID0gKGF0dGFjaykgPT4ge1xuXHRcdGlmIChib2FyZFthdHRhY2tdID09PSAnc2hpcCcpIHtcblx0XHRcdGJvYXJkW2F0dGFja10gPSAnaGl0Jztcblx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZVxuXHRcdFx0cmVjZWl2ZUF0dGFja0hlbHBlcihhdHRhY2spO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRib2FyZFthdHRhY2tdID0gJ21pc3NlZCc7XG5cdFx0fVxuXHR9O1xuXG5cdC8vIEZ1bmN0aW9uIHRoYXQgY2hlY2tzIHdoZXRoZXIgYWxsIHNoaXBzIGhhdmUgYmVlbiBzdW5rXG5cdC8vIEZpbHRlcmluZyBib2FyZCBhcnJheSwgYW5kIGNoZWNraW5nIHdoZXRoZXIgMTcgcG9zaXRpb25zIGhhdmUgYmVlbiBoaXRcblx0Y29uc3QgYWxsU3VuayA9ICgpID0+IHtcblx0XHRjb25zdCBhcnIgPSBib2FyZC5maWx0ZXIoKGVsZW1lbnQpID0+IGVsZW1lbnQgPT09ICdoaXQnKTtcblx0XHRpZiAoYXJyLmxlbmd0aCA+PSAxNykge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHRcdHJldHVybiBmYWxzZTtcblx0fTtcblxuXHQvLyBGdW5jdGlvbiB0aGF0IGhlbHBzIGFsbG9jYXRlIGF0dGFjayB0byBhcHByb3ByaWF0ZSBzaGlwXG5cdGNvbnN0IHJlY2VpdmVBdHRhY2tIZWxwZXIgPSAoYXR0YWNrKSA9PiB7XG5cdFx0Y29uc3QgZmluZEFyciA9IGNyZWF0ZVNoaXAuZmlsdGVyKChjb3IpID0+IGNvci5pbmNsdWRlcyhhdHRhY2spKS5mbGF0KCk7XG5cblx0XHRjb25zdCBjaGVja0FyciA9IGZpbmRBcnIuc29ydCgpLnRvU3RyaW5nKCk7XG5cdFx0Y29uc3QgY2hlY2tDYXJyaWVyID0gY3JlYXRlU2hpcFswXS5zb3J0KCkudG9TdHJpbmcoKTtcblx0XHRjb25zdCBjaGVja0JhdHRsZXNoaXAgPSBjcmVhdGVTaGlwWzBdLnNvcnQoKS50b1N0cmluZygpO1xuXHRcdGNvbnN0IGNoZWNrQ3J1aXNlciA9IGNyZWF0ZVNoaXBbMF0uc29ydCgpLnRvU3RyaW5nKCk7XG5cdFx0Y29uc3QgY2hlY2tTdWJtYXJpbmUgPSBjcmVhdGVTaGlwWzBdLnNvcnQoKS50b1N0cmluZygpO1xuXHRcdGNvbnN0IGNoZWNrRGVzdHJveWVyID0gY3JlYXRlU2hpcFswXS5zb3J0KCkudG9TdHJpbmcoKTtcblxuXHRcdGlmIChjaGVja0FyciA9PT0gY2hlY2tDYXJyaWVyKSBjYXJyaWVyLmlzSGl0KGF0dGFjayk7XG5cdFx0ZWxzZSBpZiAoY2hlY2tBcnIgPT09IGNoZWNrQmF0dGxlc2hpcCkgYmF0dGxlc2hpcC5pc0hpdChhdHRhY2spO1xuXHRcdGVsc2UgaWYgKGNoZWNrQXJyID09PSBjaGVja0NydWlzZXIpIGNydWlzZXIuaXNIaXQoYXR0YWNrKTtcblx0XHRlbHNlIGlmIChjaGVja0FyciA9PT0gY2hlY2tTdWJtYXJpbmUpIHN1Ym1hcmluZS5pc0hpdChhdHRhY2spO1xuXHRcdGVsc2UgaWYgKGNoZWNrQXJyID09PSBjaGVja0Rlc3Ryb3llcikgZGVzdHJveWVyLmlzSGl0KGF0dGFjayk7XG5cdH07XG5cblx0cmV0dXJuIHtcblx0XHRjcmVhdGVTaGlwLFxuXHRcdHJlY2VpdmVBdHRhY2ssXG5cdFx0YWxsU3Vuayxcblx0XHRib2FyZFxuXHR9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBHYW1lYm9hcmQ7XG4iLCJmdW5jdGlvbiBQbGF5ZXIoZ2FtZWJvYXJkKSB7XG5cdGNvbnN0IGJvYXJkUGxheWVyID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogMTAwIH0sIChfLCBpKSA9PiBpKTsgXG5cdGNvbnN0IGJvYXJkQ29tcHV0ZXIgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiAxMDAgfSwgKF8sIGkpID0+IGkpO1xuXHRjb25zdCBwbGF5ZXJBdHRhY2sgPSAoYXR0YWNrKSA9PiB7XG5cdFx0aWYgKGJvYXJkUGxheWVyW2F0dGFja10gIT09ICdhdHRhY2tlZCcpIHtcblx0XHRcdGJvYXJkUGxheWVyW2F0dGFja10gPSAnYXR0YWNrZWQnO1xuXHRcdFx0cmV0dXJuIGdhbWVib2FyZC5yZWNlaXZlQXR0YWNrKGF0dGFjayk7XG5cdFx0fVxuXHRcdHJldHVybiAnaWxsZWdhbCBtb3ZlJztcblx0fTtcblxuXHRjb25zdCBjb21wdXRlckF0dGFjayA9ICgpID0+IHtcblx0XHRjb25zdCBib2FyZCA9IGJvYXJkQ29tcHV0ZXIuZmlsdGVyKHNsb3QgPT4gc2xvdCAhPT0gJ2F0dGFja2VkJyk7ICBcblx0XHRjb25zdCByYW5kb21BdHRhY2sgPSBib2FyZFtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBib2FyZC5sZW5ndGgpXVxuXHRcdGJvYXJkQ29tcHV0ZXJbcmFuZG9tQXR0YWNrXSA9ICdhdHRhY2tlZCc7ICBcblx0ICBnYW1lYm9hcmQucmVjZWl2ZUF0dGFjayhyYW5kb21BdHRhY2spO1x0IFxuXHRcdHJldHVybiByYW5kb21BdHRhY2s7XG5cdH07XG5cblx0cmV0dXJuIHtcblx0XHRwbGF5ZXJBdHRhY2ssXG5cdFx0Y29tcHV0ZXJBdHRhY2ssXG5cdFx0Ym9hcmRDb21wdXRlciwgXG5cdFx0Ym9hcmRQbGF5ZXJcblx0fTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgUGxheWVyO1xuIiwiLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLWV4cHJlc3Npb25zICovXG5jb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFpbmVyJyk7IFxuY29uc3QgdGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3AnKTsgXG5jb25zdCBtb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbCcpOyBcblxuY29uc3QgcmVuZGVyID0gKGJvYXJkMSwgYm9hcmQyKSA9PiB7XG5cdC8vIENyZWF0aW5nIHR3byBncmlkcyBmb3IgZGlzcGxheWluZyBib2FyZHNcblx0Y29uc3QgZ3JpZDEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdncmlkJyk7XG5cdGdyaWQxLmNsYXNzTmFtZSA9ICdncmlkMSc7XG5cdGNvbnN0IGdyaWQyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZ3JpZCcpO1xuXHRncmlkMi5jbGFzc05hbWUgPSAnZ3JpZDInO1xuXG5cdGJvYXJkMS5ib2FyZC5mb3JFYWNoKCgpID0+IHtcblx0XHRjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRkaXYuY2xhc3NOYW1lID0gJ2NlbGxzMSc7XG5cdFx0Z3JpZDEuYXBwZW5kKGRpdik7XG5cdFx0Y29udGFpbmVyLmFwcGVuZChncmlkMSk7XG5cdH0pO1xuXG5cdGJvYXJkMi5ib2FyZC5mb3JFYWNoKCgpID0+IHtcblx0XHRjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRkaXYuY2xhc3NOYW1lID0gJ2NlbGxzMic7XG5cdFx0Z3JpZDIuYXBwZW5kKGRpdik7XG5cdFx0Y29udGFpbmVyLmFwcGVuZChncmlkMik7XG5cdH0pO1xufTtcblxuY29uc3QgbWFya1Nwb3RzID0gKGJvYXJkMSwgYm9hcmQyKSA9PiB7XG5cdGNvbnN0IGNvbXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2VsbHMyJyk7XG5cdGNvbnN0IHBsYXllciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jZWxsczEnKTtcblxuXHRib2FyZDEuZm9yRWFjaCgoZWxlbWVudCwgaSkgPT4ge1xuXHRcdFxuXHRcdGVsZW1lbnQgPT09ICdtaXNzZWQnID8gKGNvbXBbaV0uc3R5bGUuYmFja2dyb3VuZCA9ICdncmF5JykgOiBudWxsOyBcblx0XHRlbGVtZW50ID09PSAnaGl0JyA/IChjb21wW2ldLnN0eWxlLmJhY2tncm91bmQgPSAnYmxhY2snKSA6IG51bGw7XG5cdH0pO1xuXG5cdGJvYXJkMi5mb3JFYWNoKChlbGVtZW50LCBpKSA9PiB7XG5cdFx0XG5cdFx0ZWxlbWVudCA9PT0gJ21pc3NlZCcgPyAocGxheWVyW2ldLnN0eWxlLmJhY2tncm91bmQgPSAnZ3JheScpIDogbnVsbDsgXG5cdFx0ZWxlbWVudCA9PT0gJ2hpdCcgPyAocGxheWVyW2ldLnN0eWxlLmJhY2tncm91bmQgPSAnYmxhY2snKSA6IG51bGw7XG5cdH0pO1xufTsgXG5cbmNvbnN0IHNob3dNb2RhbCA9IChpbnB1dCkgPT4geyBcblx0bW9kYWwuY2xhc3NMaXN0LnRvZ2dsZSgnc2hvdy1tb2RhbCcpOyBcblx0Y29udGFpbmVyLmNsYXNzTGlzdC50b2dnbGUoJ2lzLWJsdXJyZWQnKTsgXG5cdHRleHQudGV4dENvbnRlbnQgPSBpbnB1dDtcbn07IFxuXG5jb25zdCByZXN0YXJ0ID0gKCkgPT4geyBcblx0Y29udGFpbmVyLmlubmVySFRNTCA9ICcnOyBcbiAgbW9kYWwuY2xhc3NMaXN0LnRvZ2dsZSgnc2hvdy1tb2RhbCcpOyBcblx0Y29udGFpbmVyLmNsYXNzTGlzdC50b2dnbGUoJ2lzLWJsdXJyZWQnKTtcbn1cblxuZXhwb3J0IHsgcmVuZGVyLCBtYXJrU3BvdHMsIHNob3dNb2RhbCwgcmVzdGFydCB9O1xuIiwiXG5pbXBvcnQgR2FtZWJvYXJkIGZyb20gJy4vZ2FtZWJvYXJkJztcbmltcG9ydCBQbGF5ZXIgZnJvbSAnLi9wbGF5ZXInO1xuaW1wb3J0IHsgcmVuZGVyLCBtYXJrU3BvdHMsIHNob3dNb2RhbCwgcmVzdGFydCB9IGZyb20gJy4vZG9tQ29udHJvbCc7XG5cbi8vIEZ1bmN0aW9uIHRoYXQgY29udHJvbHMgZW50aXJlIGdhbWVMb29wXG5jb25zdCBnYW1lTG9vcCA9ICgpID0+IHtcblx0bGV0IGFjdGl2ZVBsYXllciA9IDA7XG5cblx0Ly8gQ3JlYXRpbmcgcGxheWVyIGdhbWVib2FyZHNcblx0Y29uc3QgYm9hcmQxID0gR2FtZWJvYXJkKFswLCAxLCAyLCAzXSwgWzEwLCAxMSwgMTJdLCBbMjAsIDIxLCAyMiwgMjMsIDI0XSwgWzUyLDUzXSwgWzEsIDIsIDMsIDRdKTtcblx0Y29uc3QgYm9hcmQyID0gR2FtZWJvYXJkKFsxLCAyLCAzLCA0LCA1XSwgWzgsIDksIDEwLCAxMV0sIFsxNCwgMTUsIDE2XSwgWzIwLCAyMSwgMjJdLCBbMjQsIDI1XSk7IFxuXHRcblx0Ly8gQ3JlYXRpbmcgcGxheWVyc1xuXHRjb25zdCBwbGF5ZXIxID0gUGxheWVyKGJvYXJkMik7XG5cdGNvbnN0IHBsYXllcjIgPSBQbGF5ZXIoYm9hcmQxKTtcblxuXHQvLyBSZW5kZXJpbmcgYm9hcmRzXG5cdHJlbmRlcihib2FyZDEsIGJvYXJkMik7XG5cblx0Ly8gRnVuY3Rpb24gZm9yIHBsYXllciB0dXJuc1xuXHRjb25zdCBjaGFuZ2VUdXJuID0gKCkgPT4ge1xuXHRcdGFjdGl2ZVBsYXllciA9IGFjdGl2ZVBsYXllciA9PT0gMCA/IDEgOiAwO1xuXHR9O1xuXG5cdC8vIENoZWNraW5nIHdoZXRoZXIgYWxsIHNoaXBzIGhhdmUgYmVlbiBzdW5rXG5cdGZ1bmN0aW9uIGNoZWNrKCkge1xuXHRcdGlmIChib2FyZDIuYWxsU3VuaygpKSB7XG5cdFx0XHRzaG93TW9kYWwoJ0NvbXB1dGVyIGxvc3QuIFlvdSB3aW4hJyk7XG5cdFx0fSBlbHNlIGlmIChib2FyZDEuYWxsU3VuaygpKSB7XG5cdFx0XHRzaG93TW9kYWwoJ1lvdSBsb3N0ISBUaGUgZW5lbXkgaGFzIGRlZmVhdGVkIHlvdS4nKTtcblx0XHR9IGVsc2UgcGxheSgpO1xuXHR9XG5cblx0Ly8gZnVuY3Rpb24gbG9vcCB0aGF0IHN3aXRjaGVzIHBsYXllciB0dXJuc1xuXHRmdW5jdGlvbiBwbGF5KCkge1xuXHRcdGNvbnN0IGNvbXB1dGVyID0gWyAuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2VsbHMyJykgXTtcblx0XHRjb25zdCBwbGF5ZXJUdXJuID0gKCkgPT4ge1xuXHRcdFx0Y29tcHV0ZXIuZm9yRWFjaCgoZWxlbWVudCwgaSkgPT4ge1xuXHRcdFx0XHRlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0XHRcdHBsYXllcjEucGxheWVyQXR0YWNrKGkpOyBcblx0XHRcdFx0XHRtYXJrU3BvdHMoYm9hcmQyLmJvYXJkLCBib2FyZDEuYm9hcmQpO1xuXHRcdFx0XHRcdGNoYW5nZVR1cm4oKTtcblx0XHRcdFx0XHRjaGVjaygpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH07XG5cblx0XHRjb25zdCBjb21wdXRlclR1cm4gPSAoKSA9PiB7XG5cdFx0XHRwbGF5ZXIyLmNvbXB1dGVyQXR0YWNrKCk7XG5cdFx0XHRtYXJrU3BvdHMoYm9hcmQyLmJvYXJkLCBib2FyZDEuYm9hcmQpO1xuXHRcdFx0Y2hhbmdlVHVybigpO1xuXHRcdH07XG5cblx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLWV4cHJlc3Npb25zXG5cdFx0YWN0aXZlUGxheWVyID09PSAwID8gcGxheWVyVHVybigpIDogY29tcHV0ZXJUdXJuKCk7XG5cdH1cblx0Y2hlY2soKTtcbn07XG5cbmdhbWVMb29wKCk7XG5cbi8vIGFkZEV2ZW50TGlzdGVuZXIgdGhhdCByZXN0YXJ0cyBnYW1lIHdoZW4gcmVzdGFydCBidXR0b24gcHJlc3NlZFxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Jlc3RhcnQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0cmVzdGFydCgpO1xuXHRnYW1lTG9vcCgpO1xufSk7XG4iXSwibmFtZXMiOlsiY29vcmRpbmF0ZXMiLCJzaGlwQ29vcmQiLCJtYXAiLCJjb29yZGluYXRlIiwicHVzaCIsImlzU3VuayIsImV2ZXJ5IiwiZWxlbWVudCIsImlzSGl0IiwiaGl0IiwiY29yZHMxIiwiY29yZHMyIiwiY29yZHMzIiwiY29yZHM0IiwiY29yZHM1IiwiYm9hcmQiLCJBcnJheSIsImZyb20iLCJsZW5ndGgiLCJfIiwiaSIsImNhcnJpZXIiLCJTaGlwIiwiYmF0dGxlc2hpcCIsImNydWlzZXIiLCJzdWJtYXJpbmUiLCJkZXN0cm95ZXIiLCJjcmVhdGVTaGlwIiwiZmxhdCIsInBvc2l0aW9ucyIsInJlY2VpdmVBdHRhY2siLCJhdHRhY2siLCJjaGVja0FyciIsImZpbHRlciIsImNvciIsImluY2x1ZGVzIiwic29ydCIsInRvU3RyaW5nIiwiY2hlY2tDYXJyaWVyIiwiY2hlY2tCYXR0bGVzaGlwIiwiY2hlY2tDcnVpc2VyIiwiY2hlY2tTdWJtYXJpbmUiLCJjaGVja0Rlc3Ryb3llciIsInJlY2VpdmVBdHRhY2tIZWxwZXIiLCJhbGxTdW5rIiwiZ2FtZWJvYXJkIiwiYm9hcmRQbGF5ZXIiLCJib2FyZENvbXB1dGVyIiwicGxheWVyQXR0YWNrIiwiY29tcHV0ZXJBdHRhY2siLCJzbG90IiwicmFuZG9tQXR0YWNrIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiY29udGFpbmVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwidGV4dCIsIm1vZGFsIiwibWFya1Nwb3RzIiwiYm9hcmQxIiwiYm9hcmQyIiwiY29tcCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJwbGF5ZXIiLCJmb3JFYWNoIiwic3R5bGUiLCJiYWNrZ3JvdW5kIiwic2hvd01vZGFsIiwiaW5wdXQiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJ0ZXh0Q29udGVudCIsImdhbWVMb29wIiwiYWN0aXZlUGxheWVyIiwiR2FtZWJvYXJkIiwicGxheWVyMSIsIlBsYXllciIsInBsYXllcjIiLCJncmlkMSIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJncmlkMiIsImRpdiIsImFwcGVuZCIsInJlbmRlciIsImNoYW5nZVR1cm4iLCJjaGVjayIsImNvbXB1dGVyIiwiY29tcHV0ZXJUdXJuIiwiYWRkRXZlbnRMaXN0ZW5lciIsInBsYXllclR1cm4iLCJpbm5lckhUTUwiXSwic291cmNlUm9vdCI6IiJ9